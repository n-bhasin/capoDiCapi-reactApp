(this["webpackJsonpcapo-di-capi-react"]=this["webpackJsonpcapo-di-capi-react"]||[]).push([[0],{37:function(e,t,a){e.exports=a(69)},42:function(e,t,a){},66:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(33),l=a.n(o),c=(a(42),a(9)),s=a.n(c),i=a(36),m=a(12),u=a(17),d=a(13),p=a(14),h=a(18),g=a(16),f=a(15),E=a.n(f),v=function(e){var t=e.items,a=e.onItemSelect,n=e.selectedItem;return r.a.createElement("div",null,r.a.createElement("ul",{className:"list-group"},t.map((function(e){return r.a.createElement("li",{style:{cursor:"pointer"},key:e._id,className:e===n?"list-group-item active":"list-group-item",onClick:function(){return a(e)}},e.room)}))))},y=function(e){var t=e.chats,a=e.onSort;return r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(){return a("sender")}},"Sender"),r.a.createElement("th",{onClick:function(){return a("message")}},"Message"),r.a.createElement("th",{onClick:function(){return a("room")}},"Room"),r.a.createElement("th",{onClick:function(){return a("date")}},"Date"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.sender),r.a.createElement("td",null,e.message),r.a.createElement("td",null,e.room),r.a.createElement("td",null,e.date))}))))},b=a(6),k=a.n(b),C=function(e){var t=e.itemsCount,a=e.pageSize,n=e.onPageChange,o=e.currentPage,l=Math.ceil(t/a);if(1===l)return null;var c=k.a.range(1,l+1);return r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination"},c.map((function(e){return r.a.createElement("li",{key:e,className:e===o?"page-item active":"page-item"},r.a.createElement("button",{onClick:function(){return n(e)},className:"page-link"},e))}))))};function S(e,t,a){var n=(t-1)*a;return k()(e).slice(n).take(a).value()}var w=[{_id:"0",name:"room1",room:"room1"},{_id:"1",name:"room2",room:"room2"},{_id:"2",name:"room3",room:"room3"},{_id:"3",name:"room4",room:"room4"}];var x=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={chats:[],rooms:[],pageSize:5,currentPage:1,sortColumn:{path:"sender",order:"asc"}},e.handlePage=function(t){e.setState({currentPage:t})},e.handleSort=function(t){var a=Object(u.a)({},e.state.sortColumn);a.path===t?a.order="asc"===a.order?"desc":"asc":(a.path=t,a.order="asc"),console.log(a),e.setState({sortColumn:a})},e.handleItem=function(t){console.log(t),e.setState({selectedRoom:t,currentPage:1})},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("https://capodicapi.herokuapp.com/api/capodicapi/chat");case 2:t=e.sent,a=t.data,n=[{room:"All Rooms"}].concat(Object(i.a)(w.filter((function(e){return e})))),console.log(a),console.log(n),this.setState({chats:a,rooms:n});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.chats.length,t=this.state,a=t.pageSize,n=t.currentPage,o=t.chats,l=t.sortColumn,c=t.selectedRoom,s=c&&c.name?o.filter((function(e){return e.room===c.name})):o;if(0===e)return r.a.createElement("p",null,"There are no chats in database.");var i=k.a.orderBy(s,[l.path],[l.order]),m=S(i,n,a);return r.a.createElement("div",{className:"row m-4"},r.a.createElement("div",{className:"col-2"},r.a.createElement("h2",{style:{marginBottom:"20px"}},"Menu"),r.a.createElement(v,{items:this.state.rooms,onItemSelect:this.handleItem,selectedItem:this.state.selectedRoom})),r.a.createElement("div",{className:"col-10"},r.a.createElement("h2",{style:{paddingLeft:"20px"}},"All Chat History"),r.a.createElement("div",{style:{borderLeft:"1px solid #333",paddingLeft:"20px"}},r.a.createElement("p",null,"There are total ",i.length," chats."),r.a.createElement(y,{chats:m,onSort:this.handleSort}),r.a.createElement(C,{itemsCount:e,pageSize:a,currentPage:n,onPageChange:this.handlePage}))))}}]),a}(n.Component),P=function(e){var t=e.logs,a=e.onSort;return r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(){return a("logtype")}},"Log Type"),r.a.createElement("th",{onClick:function(){return a("name")}},"Name"),r.a.createElement("th",{onClick:function(){return a("message")}},"Message"),r.a.createElement("th",{onClick:function(){return a("date")}},"Date"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.logType),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.message),r.a.createElement("td",null,e.date))}))))},N=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={logs:[],pageSize:5,currentPage:1,sortColumn:{path:"sender",order:"asc"}},e.handlePage=function(t){e.setState({currentPage:t})},e.handleSort=function(t){var a=Object(u.a)({},e.state.sortColumn);a.path===t?a.order="asc"===a.order?"desc":"asc":(a.path=t,a.order="asc"),console.log(a),e.setState({sortColumn:a})},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("https://capodicapi.herokuapp.com/api/capodicapi/log");case 2:t=e.sent,a=t.data,console.log(a),this.setState({logs:a});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.logs.length,t=this.state,a=t.pageSize,n=t.currentPage,o=t.logs,l=t.sortColumn;if(0===e)return r.a.createElement("p",null,"There are no chats in database.");var c=S(k.a.orderBy(o,[l.path],[l.order]),n,a);return r.a.createElement("div",{className:"row m-4"},r.a.createElement("div",{className:"col-10"},r.a.createElement("h2",{style:{paddingLeft:"20px"}},"All Log History"),r.a.createElement("div",{style:{paddingLeft:"20px"}},r.a.createElement("p",null,"There are total ",e," logs."),r.a.createElement(P,{logs:c,onSort:this.handleSort}),r.a.createElement(C,{itemsCount:e,pageSize:a,currentPage:n,onPageChange:this.handlePage}))))}}]),a}(n.Component),O=a(11),j=a(7),z=function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement("h2",{style:{color:"#ffff"}},"Capo Di Capi"),r.a.createElement("ul",{style:{marginTop:"0px",position:"absolute",left:"200px"}},r.a.createElement("li",{style:{display:"inline",padding:"25px",fontSize:"20px",color:"white"}},r.a.createElement(O.b,{style:{paddingTop:"5px",color:"white"},to:"/"},"CHAT")),r.a.createElement("li",{className:"m-1",style:{display:"inline",padding:"25px",fontSize:"20px"}},r.a.createElement(O.b,{to:"/loghistory",style:{color:"white"}},"LOG")))),r.a.createElement(j.c,null,r.a.createElement(j.a,{path:"/",component:x,exact:!0}),r.a.createElement(j.a,{path:"/loghistory",component:N})))};a(66);var T=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null,r.a.createElement(z,null)))};a(67),a(68),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.07cbd510.chunk.js.map